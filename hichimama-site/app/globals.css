@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Nature + Patisserie theme */
  --color-bg: 248 243 231; /* Vanilla Cream #F8F3E7 */
  --color-fg: 31 41 55;    /* Gray-800 */
}

html, body {
  height: 100%;
}

body {
  color: rgb(var(--color-fg));
  background: #FFFFFF;
}

/* Slightly larger base font for readability */
html { font-size: 17px; }

a {
  /* Accent with Caramel */
  @apply text-brand-600 hover:text-brand-700 underline-offset-2 hover:underline;
}

.container-responsive {
  @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
}

.prose-content h1 { @apply text-3xl sm:text-4xl font-bold mt-8 mb-4; }
.prose-content h2 { @apply text-2xl sm:text-3xl font-semibold mt-8 mb-3; }
.prose-content h3 { @apply text-xl sm:text-2xl font-semibold mt-6 mb-2; }
.prose-content p  { @apply leading-7 my-4; }
.prose-content ul { @apply list-disc pl-6 my-4; }
.prose-content ol { @apply list-decimal pl-6 my-4; }
.prose-content blockquote { @apply border-l-4 border-brand-300 pl-4 italic my-4; }
.prose-content img { @apply rounded-md my-6; }

.tag-badge { @apply inline-flex items-center rounded-full bg-brand-200 text-brand-800 px-3 py-1 text-xs font-medium; }
.category-badge { @apply inline-flex items-center rounded-full bg-brand-50 text-brand-800 px-3 py-1 text-xs font-medium; }

/* Elegant title decoration */
/* remove old title underline */
.title-elegant { position: relative; display: inline-block; }

@keyframes fade-up {
  from { opacity: 0; transform: translateY(6px); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-fade-up { animation: fade-up .6s ease-out both; }

/* Scroll reveal (only when JS initialized) */
.reveal-init [data-reveal] { opacity: 0; transform: translateY(16px); }
[data-reveal] { transition: opacity .7s ease, transform .7s ease; will-change: opacity, transform; transition-delay: var(--delay, 0ms); }
[data-reveal].revealed { opacity: 1; transform: none; }
@media (prefers-reduced-motion: reduce) {
  [data-reveal] { opacity: 1 !important; transform: none !important; transition: none !important; }
}

/* Plump button */
/* Molten chocolate button */
.btn-choco {
  @apply inline-flex items-center gap-2 rounded-full px-8 py-4 text-base text-white transition;
  background: linear-gradient(180deg, #7A4A35 0%, #3F2C23 100%);
  box-shadow: 0 16px 30px rgba(63,44,35,0.5), inset 0 3px 0 rgba(255,255,255,0.38);
  position: relative;
}
.btn-choco:hover { filter: brightness(1.03); }
.btn-choco:active { transform: translateY(1px); }
.btn-choco:before {
  /* glossy top highlight */
  content: ""; position: absolute; inset: 0; border-radius: 9999px; pointer-events: none;
  background: linear-gradient(180deg, rgba(255,255,255,0.65), rgba(255,255,255,0) 45%);
}
/* dripping layer as child element for animation */
.btn-choco .drips { position: absolute; left: 6%; right: 6%; bottom: -14px; height: 26px; pointer-events: none; }
.btn-choco .drips:before, .btn-choco .drips:after { content: ""; position: absolute; inset: 0; background-repeat: no-repeat; }
.btn-choco .drips:before {
  background:
    radial-gradient(15px 18px at 12% 0, #3F2C23 98%, rgba(0,0,0,0) 100%),
    radial-gradient(12px 16px at 34% 0, #3F2C23 98%, rgba(0,0,0,0) 100%),
    radial-gradient(18px 22px at 56% 0, #3F2C23 98%, rgba(0,0,0,0) 100%),
    radial-gradient(13px 18px at 78% 0, #3F2C23 98%, rgba(0,0,0,0) 100%);
  animation: drip-wave 3.6s ease-in-out infinite;
}
.btn-choco .drips:after {
  background:
    radial-gradient(10px 12px at 22% 0, #3F2C23 98%, rgba(0,0,0,0) 100%),
    radial-gradient(11px 14px at 46% 0, #3F2C23 98%, rgba(0,0,0,0) 100%),
    radial-gradient(9px 11px at 70% 0, #3F2C23 98%, rgba(0,0,0,0) 100%);
  animation: drip-wave 3.6s ease-in-out infinite reverse;
}
@keyframes drip-wave { 0%,100% { transform: translateY(0); } 50% { transform: translateY(5px); } }

/* Cream drip animation for header cake */
.cream-drip { animation: cream-drip 2.8s ease-in-out infinite; transform-origin: top; }
@keyframes cream-drip { 0%,100% { transform: translateY(0); } 50% { transform: translateY(2px); } }

/* Cake share button */
.btn-cake {
  @apply inline-flex items-center gap-2 rounded-full px-8 py-4 text-base text-[#3F2C23] relative transition;
  background: linear-gradient(180deg, #FFD75A 0%, #F1B700 100%); /* honey */
  box-shadow: 0 14px 28px rgba(241,183,0,0.35), inset 0 2px 0 rgba(255,255,255,0.85);
}
.btn-cake:hover { filter: brightness(1.03); }
.btn-cake .cream-cap { display: none; }
.btn-cake .sponge-edge { display: none; }
.btn-cake .cream-cap:before,
.btn-cake .cream-cap:after { content: ""; position: absolute; inset: 0; background-repeat: no-repeat; }
.btn-cake .cream-cap:before { background: linear-gradient(180deg, rgba(255,255,255,0.85), rgba(255,255,255,0.0) 70%); border-top-left-radius: 16px; border-top-right-radius: 16px; }
.btn-cake .cream-cap:after { background: none; }
@keyframes cream-wave { 0%,100% { transform: translateY(0); } 50% { transform: translateY(4px); } }

.btn-cake .cream-bottom { position: absolute; left: 6%; right: 6%; bottom: -16px; height: 22px; pointer-events: none; }
.btn-cake .cream-bottom:before,
.btn-cake .cream-bottom:after { content: ""; position: absolute; inset: 0; background-repeat: no-repeat; }
.btn-cake .cream-bottom:before {
  background:
    radial-gradient(14px 16px at 18% 0, #F1B700 98%, rgba(0,0,0,0) 100%),
    radial-gradient(12px 14px at 42% 0, #F1B700 98%, rgba(0,0,0,0) 100%),
    radial-gradient(16px 18px at 66% 0, #F1B700 98%, rgba(0,0,0,0) 100%),
    radial-gradient(10px 12px at 84% 0, #F1B700 98%, rgba(0,0,0,0) 100%);
  animation: cream-wave 3.2s ease-in-out infinite;
}
.btn-cake .cream-bottom:after {
  background:
    radial-gradient(10px 12px at 30% 0, #D9A600 98%, rgba(0,0,0,0) 100%),
    radial-gradient(12px 14px at 58% 0, #D9A600 98%, rgba(0,0,0,0) 100%);
  animation: cream-wave 3.2s ease-in-out infinite reverse;
}

/* Stylish brand text */
.ribbon { position: absolute; transform: rotate(-45deg); left: -48px; top: 12px; padding: 4px 44px; color: #fff; font-weight: 800; font-size: 12px; text-transform: uppercase; letter-spacing: .04em; box-shadow: 0 2px 6px rgba(0,0,0,0.15); text-align: center; }
.ribbon.red { background: #D81A37; }
.ribbon.gold { background: linear-gradient(180deg, #FFE766, #EED203, #C8B400); overflow: hidden; text-shadow: 0 1px 2px rgba(0,0,0,0.25); }
.ribbon .blink { animation: blink 1s steps(2, start) infinite; }
@keyframes blink { 0%,49% { opacity: 1; } 50%,100% { opacity: .25; } }
.ribbon.gold::after { content: ""; position: absolute; top: 0; left: -150%; width: 150%; height: 100%; background: linear-gradient(120deg, transparent, rgba(255,255,255,.85), transparent); animation: shine 2s infinite; }
@keyframes shine { 0% { left: -150%; } 50% { left: -40%; } 100% { left: 150%; } }

.crown-bounce { animation: crown 2.4s ease-in-out infinite; transform-origin: center; }
@keyframes crown { 0%,100% { transform: translateY(0); } 50% { transform: translateY(-2px); } }
.postbox-mail { animation: mail 2.8s ease-in-out infinite; transform-origin: center; }
@keyframes mail { 0%,100% { transform: translateY(-1px); } 50% { transform: translateY(3px); } }

/* Bee & honeycomb */
.bee-buzz { animation: bee 3s ease-in-out infinite; transform-origin: center; }
@keyframes bee { 0%,100% { transform: translateY(0) rotate(-2deg); } 50% { transform: translateY(-3px) rotate(2deg); } }
.hex-sway { animation: hex 4s ease-in-out infinite; transform-origin: center; }
@keyframes hex { 0%,100% { transform: rotate(0deg); } 50% { transform: rotate(3deg); } }

.brand-text { letter-spacing: .02em; position: relative; }
.brand-text:hover { color: #9C6E45; transform: translateY(-1px); transition: all .2s ease; }
.brand-text:after {
  content: "";
  position: absolute; left: 0; bottom: -4px; height: 2px; width: 0; background: #B88758; transition: width .25s ease;
}
.brand-text:hover:after { width: 100%; }

/* Gradient text */
.gradient-text {
  background: linear-gradient(90deg, #C48A6A, #7B5233);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

/* Official bubble */
.official-badge { position: absolute; top: -16px; left: -16px; }
.bubble {
  background: #C48A6A; color: #fff; padding: 4px 8px; border-radius: 12px; font-size: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.08);
}
.bubble:after {
  content: ""; position: absolute; left: 10px; top: 100%; width: 0; height: 0; border: 6px solid transparent; border-top-color: #C48A6A;
}

/* Animated door */
.door-swing {
  transform-origin: left center;
  animation: door-swing 2.8s ease-in-out infinite;
}

@keyframes door-swing {
  0%, 100% { transform: rotateY(0deg); }
  50% { transform: rotateY(-22deg); }
}

/* --- WordPress content compatibility (Profile page) --- */
.wp-content .wp-block-heading { @apply font-semibold; }
.wp-content .wp-block-heading.h2, .wp-content h2.wp-block-heading { @apply text-2xl sm:text-3xl mt-8 mb-3; }
.wp-content .wp-block-heading.h3, .wp-content h3.wp-block-heading { @apply text-xl sm:text-2xl mt-6 mb-2; }

/* Cocoon speech balloon (approximation) */
.wp-content .cocoon-block-balloon,
.wp-content .speech-wrap { display: flex; align-items: flex-start; gap: 12px; margin: 1rem 0; }
.wp-content .sbp-r { flex-direction: row-reverse; }
.wp-content .speech-person { display: flex; flex-direction: column; align-items: center; min-width: 64px; }
.wp-content .speech-icon-image { width: 56px; height: 56px; border-radius: 9999px; object-fit: cover; box-shadow: 0 2px 6px rgba(0,0,0,.08); border: 2px solid #F6D78A; }
.wp-content .speech-name { margin-top: 6px; font-size: 12px; color: #5C4033; font-weight: 600; }
.wp-content .speech-balloon { position: relative; background: #fff; border: 1px solid #F6D78A; border-radius: 12px; padding: 12px 14px; color: #374151; line-height: 1.8; flex: 1; }
.wp-content .sbp-l .speech-balloon:before { content: ""; position: absolute; left: -8px; top: 16px; border-width: 8px; border-style: solid; border-color: transparent #F6D78A transparent transparent; }
.wp-content .sbp-l .speech-balloon:after { content: ""; position: absolute; left: -6px; top: 16px; border-width: 8px; border-style: solid; border-color: transparent #fff transparent transparent; }
.wp-content .sbp-r .speech-balloon:before { content: ""; position: absolute; right: -8px; top: 16px; border-width: 8px; border-style: solid; border-color: transparent transparent transparent #F6D78A; }
.wp-content .sbp-r .speech-balloon:after { content: ""; position: absolute; right: -6px; top: 16px; border-width: 8px; border-style: solid; border-color: transparent transparent transparent #fff; }

/* Decorative helpers from WP content */
.wp-content .marker-under { background: linear-gradient(transparent 60%, #FFF3BF 0%); padding: 0 .1em; }
.wp-content .green strong { color: #16a34a; }

/* WP list styles (numeric step) */
.wp-content ul.is-style-numeric-list-step { counter-reset: step; padding-left: 0; }
.wp-content ul.is-style-numeric-list-step > li { position: relative; padding-left: 2.2rem; margin: .6rem 0; list-style: none; }
.wp-content ul.is-style-numeric-list-step > li:before {
  counter-increment: step; content: counter(step);
  position: absolute; left: 0; top: .15rem; width: 1.6rem; height: 1.6rem;
  border-radius: 9999px; background: #F6D78A; color: #3F2C23; display: grid; place-items: center; font-weight: 700; font-size: .85rem;
  box-shadow: 0 1px 2px rgba(0,0,0,.06), inset 0 1px 0 rgba(255,255,255,.6);
}

.wp-content .has-watery-red-background-color { background: #FDECEC; border: 1px solid #F6CFD0; border-radius: 10px; padding: .5rem .75rem; }
.wp-content .is-style-border-radius-s-convex { border-radius: 12px; }

@media (max-width: 640px) {
  .wp-content .speech-person { min-width: 48px; }
  .wp-content .speech-icon-image { width: 48px; height: 48px; }
}
